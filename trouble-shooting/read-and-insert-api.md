# Read-and-insert API 중복 요청 방어하기

## 문제 정의

사용자에게 가상 계좌를 할당하는 API 구현을 위해 On-demand 로 할당하기로 결정을 내렸고, 데이터를 읽어서 할당 받지 않은 사용자라면 가상 계좌를 할당하도록 구현했다.

그러나 이러한 read-and-insert 방식은 DB에서 첫 번째 요청이 데이터를 읽어 할당하는 사이에 동일한 요청이 여러 번 들어오면 중복으로 가상 계좌를 할당하는 문제가 발생한다. (a.k.a 따닥이)

## 문제 해결
